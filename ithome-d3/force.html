<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <svg class="forceElement" style="width: 500; height: 300"></svg>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script>
      // simulation.force(name[,force]) 範例 =================================================================
      // const simulation = d3
      //   .forceSimulation(nodes)
      //   // 設定節點連結的引力
      //   .force("link", d3.forceLink())
      //   // 在 y 軸方向上施加一個力
      //   .force("y", d3.forceY().strength(0.025))
      //   // 節點間的電荷力
      //   .force("change", d3.forceManyBody())
      //   // 節點間的斥力
      //   .force(
      //     "collision",
      //     d3.forceCollide().radius((d) => 4)
      //   )
      //   // 中心點的引力
      //   .force("center", d3.forceCenter(width / 2, height / 2));

      // 範例一：力圖 =================================================================
      const data = [
        { name: "A" },
        { name: "B" },
        { name: "C" },
        { name: "D" },
        { name: "E" },
        { name: "F" },
        { name: "G" },
      ];

      // 把資料都綁定到 DOM 上
      const dots = d3
        .select(".forceElement")
        .append("g")
        .selectAll("circle")
        .data(data)
        .enter()
        .append("circle")
        .attr("cx", 250)
        .attr("cy", 150)
        .attr("r", 15)
        .style("fill", "green")
        .style("opacity", 0.4);

      // 設定力模擬
      const simulation = d3
        .forceSimulation()
        .alphaDecay(0) // 收斂永不停止
        .velocityDecay(0.2) // 設定摩擦係數
        .force("x", d3.forceX()) // 設定Ｘ軸平移位置
        .force("y", d3.forceY()) // 設定Ｙ軸移動位置
        .force("center", d3.forceCenter().x(250).y(150)) // 設定中心點位置
        .force("charge", d3.forceManyBody().strength(1)) // 設定節點間電荷力
        .force("collide", d3.forceCollide);
    </script>
  </body>
</html>
